<div class="task-page">
  <div class="task-header">
    <h1 class="main-title">Tareas</h1>
    <app-custom-button class="logout-button" color="primary" (click)="logout()">Cerrar Sesión</app-custom-button>
  </div>

  <div class="task-content">
    <!-- Contenedor del formulario de agregar tarea -->
    <div class="task-form-container">
      <form [formGroup]="taskForm" (ngSubmit)="addTask()" class="task-form">
        <app-custom-input label="Título" [control]="getControl('title')" errorMessage="El título es requerido"></app-custom-input>
        <app-custom-input label="Descripción" [control]="getControl('description')" errorMessage="La descripción es requerida"></app-custom-input>
        <app-custom-button class="add-task-button" color="primary" size="large" [disabled]="taskForm.invalid">
          Agregar Tarea
        </app-custom-button>
      </form>
    </div>

    <!-- Contenedor de la lista de tareas con área de desplazamiento -->
    <div class="task-list-container">
      <h2 class="task-list-title">Lista de Tareas</h2>
      <div class="task-list">
        <div *ngFor="let task of tasks" class="task-card">
          <div class="task-header">
            <mat-checkbox class="task-checkbox" [checked]="task.completed" (change)="toggleTaskCompletion(task)">
              {{ task.title }}
            </mat-checkbox>
          </div>
          <p class="task-description">{{ task.description }}</p>
          <div class="task-footer">
            <p class="task-date">Fecha de creación: {{ task.createdAt | date:'medium' }}</p>
            <app-custom-button class="delete-button" color="warn" size="small" (click)="deleteTask(task.id!)">
              Eliminar
            </app-custom-button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
